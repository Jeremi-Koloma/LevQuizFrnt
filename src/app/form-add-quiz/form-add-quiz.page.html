<ion-content>

  <div class="container-fluid topbg">

    <div class="btnBack">
      <i class="bi bi-arrow-left-circle" routerLink="/ajouter-quiz"></i>
    </div>

    <h5 class="topTextTilePage">Ajouter un nouveau Quiz</h5>
  </div>

  <div *ngIf="progress == 100 && showSuccessAlert" class="container" style="margin-top: 10px;">
    <!-- <h1 class="mt-4 mb-3"></h1> -->
    <div class="row">
      <div class="col-md-8">
        <div class="alert alert-success" role="alert">
          <h4 class="alert-heading">Quiz ajouter ! <i class="fa fa-check" aria-hidden="true"></i></h4>
          <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
          <p>Le nouveau quiz a été ajouté avec succès ! Cliquez <a href="{{newQuizURL}}">ici...</a>
            pour voir</p>
          <hr />
        </div>
      </div>
    </div>
  </div>

  <div class="container containerForm pt-3">
    <form #quizForm="ngForm" (ngSubmit)="onNewQuiz(quizForm.value)" enctype="multipart/form-data">

      <input type="hidden" class="form-control" name="username" placeholder="username" [(ngModel)]="username">

      <fieldset>

        <!-- ------------------- Quiz Imaga------------------------
              ------------------------------------------------------
            -->
        <div class="form-group">
          <input style="display:none;" #fileToUpload (change)="onFileSelected($event)" type="file"
            class="form-control-file" name="photo" placeholder="photo" accept="image/*" ngModel required
            #fileInput="ngModel" />
          <button type="button" class="btn btn-primary bt btn-sm" (click)="fileToUpload.click()">
            Ajouter une image : {{ photoName }}
          </button>
        </div>

        <!-- ------------------- Titre ------------------------
          ------------------------------------------------------
      -->
        <div class="form-group col-12 mb-2">
          <label for="titre">Titre quiz</label>
          <input type="text" class="form-control" name="titre" id="titre" placeholder="votre titre ici..." required
            ngModel />
        </div>

        <!-- ------------------- Description Quiz ------------------------
          ------------------------------------------------------
      -->
        <div class="form-group col-12">
          <label for="description">Description</label>
          <textarea class="form-control" name="description" id="description" cols="30" rows="10"
            placeholder="votre description ici..." required ngModel>
          </textarea>

        </div>

        <div class="col-12 mt-2">
          <button class="btn btnAjouter" [disabled]="!quizForm.valid || fileInput.invalid">Ajouter</button>
        </div>
        <div class="col-12 mt-2">
          <button class="btn btnAjouterQuest" routerLink='/form-add-question'>Attribuer des questions</button>
        </div>


      </fieldset>
    </form>

  </div>

</ion-content>